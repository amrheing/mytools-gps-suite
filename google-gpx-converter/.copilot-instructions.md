# Google GPX Converter - Copilot Instructions

## Project Overview
The Google GPX Converter is a client-side web application that converts Google My Maps (.kmz) files to standard GPX format. It's a static HTML/CSS/JavaScript application designed to run in browsers without requiring server-side processing.

## Technical Stack
- **Frontend**: Vanilla JavaScript (ES6+)
- **Styling**: Custom CSS with responsive design
- **Container**: Nginx Alpine (static file serving)
- **Deployment**: Docker containerized on port 6010

## Core Functionality
1. **File Upload & Processing**
   - Accepts Google My Maps (.kmz) files via drag-drop or file input
   - Extracts KML data from KMZ archives using JSZip library
   - Parses KML XML structure to extract geographic data

2. **Data Conversion**
   - Converts Google My Maps placemarks to GPX waypoints
   - Transforms paths/routes to GPX tracks and routes
   - Preserves metadata (names, descriptions, timestamps)

3. **Output Generation**
   - Generates valid GPX XML format
   - Provides download functionality for converted files
   - Shows conversion statistics and preview

## Key Files Structure
```
google-gpx-converter/
├── index.html          # Main application interface
├── script.js           # Core conversion logic
├── styles.css          # Application styling
├── url-expander.js     # Google Maps URL processing
├── Dockerfile          # Container configuration
└── README.md           # User documentation
```

## Development Guidelines

### Code Style
- Use modern JavaScript (ES6+ features)
- Implement proper error handling for file operations
- Maintain responsive design principles
- Follow semantic HTML structure

### Key Functions
- `handleFile()` - Main file processing entry point
- `parseKMZ()` - KMZ archive extraction and parsing
- `convertToGPX()` - KML to GPX transformation
- `generateDownload()` - File download preparation

### Error Handling
- Validate file types and formats before processing
- Provide user-friendly error messages
- Handle malformed KML/KMZ files gracefully
- Display progress indicators for large files

### Browser Compatibility
- Modern browsers supporting File API and Blob operations
- Progressive enhancement for older browsers
- Mobile-responsive design for touch interfaces

## Deployment Considerations
- Static files only - no server-side dependencies
- All processing happens client-side for privacy
- Nginx serves files with appropriate CORS headers
- Docker container exposes port 80 (mapped to 6010)

## Security & Privacy
- No data transmitted to servers (client-side only)
- Files processed entirely in browser memory
- No persistent storage of user data
- Clear temporary data after conversion

## Integration Points
- Part of myTools container suite
- Docker Compose integration with extract-gpx-parts
- Shared network configuration for potential future integration
- Consistent styling and user experience paradigms

## Future Enhancement Areas
- Support for additional mapping formats (Garmin, etc.)
- Batch conversion of multiple files
- Advanced GPX metadata preservation
- Integration with cloud storage services